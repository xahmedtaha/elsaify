{"version":3,"file":"js/192.266310e4.js","mappings":"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","sources":["webpack://elsaify/./src/views/LecturePage.vue","webpack://elsaify/./src/views/LecturePage.vue?b273"],"sourcesContent":["<template>\r\n    <ion-page>\r\n        <ion-header>\r\n            <ion-toolbar>\r\n                <ion-buttons slot=\"start\">\r\n                    <ion-back-button :icon=\"arrowForward\" default-href=\"/\"></ion-back-button>\r\n                </ion-buttons>\r\n                <ion-title>{{ this.$route.query.title }}</ion-title>\r\n            </ion-toolbar>\r\n        </ion-header>\r\n        <ion-content>\r\n            <main>\r\n                <transition name=\"fade\" mode=\"out-in\">\r\n                    <div class=\"wrapper\" v-if=\"loading\">\r\n                        <ion-spinner color=\"primary\" name=\"crescent\"></ion-spinner>\r\n                    </div>\r\n                    <div v-else-if=\"!error\" class=\"courses-wrapper\">\r\n                        <ion-card\r\n                            v-for=\"video in data\"\r\n                            :key=\"video.id\"\r\n                            @click=\"\r\n                                presentActionSheet({\r\n                                    title: video.title,\r\n                                    videoID: getVideoID(video.url),\r\n                                })\r\n                            \"\r\n                            button\r\n                        >\r\n                            <ion-item detail lines=\"none\" :detail-icon=\"playCircle\" class=\"course\">\r\n                                <ion-avatar slot=\"start\">\r\n                                    <ion-img\r\n                                        :src=\"'https://elsaify.elameed.education/elsefy/' + video.img\"\r\n                                    />\r\n                                </ion-avatar>\r\n                                <ion-label>{{ video.title }}</ion-label>\r\n                            </ion-item>\r\n                        </ion-card>\r\n                    </div>\r\n                    <div class=\"error-wrapper\" v-else>\r\n                        <ion-fab-button\r\n                            color=\"danger\"\r\n                            size=\"small\"\r\n                            style=\"margin-top: 20px; --box-shadow: none\"\r\n                            @click=\"getData\"\r\n                        >\r\n                            <ion-icon :icon=\"refresh\" />\r\n                        </ion-fab-button>\r\n                        <ion-text color=\"danger\">ممكن تكون فاصل نت أو موقع الصيفي مش متاح</ion-text>\r\n                        <ion-text color=\"primary\">(اتأكد انك مشترك في المحاضرة)</ion-text>\r\n\r\n                        <ion-button\r\n                            @click=\"useQR\"\r\n                            style=\"margin-top: 15px\"\r\n                            size=\"small\"\r\n                        >استعمل ال QR</ion-button>\r\n                    </div>\r\n                </transition>\r\n            </main>\r\n        </ion-content>\r\n    </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    modalController,\r\n    actionSheetController,\r\n    IonPage,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonContent,\r\n    IonButtons,\r\n    IonBackButton,\r\n    IonLabel,\r\n    IonItem,\r\n    IonAvatar,\r\n    IonImg,\r\n    IonSpinner,\r\n    IonCard,\r\n    IonText,\r\n    IonButton,\r\n    alertController,\r\n    loadingController,\r\n    IonIcon,\r\n    IonFabButton,\r\n} from \"@ionic/vue\";\r\nimport {\r\n    playCircle,\r\n    arrowForward,\r\n    laptopOutline,\r\n    logoYoutube,\r\n    refresh,\r\n} from \"ionicons/icons\";\r\nimport axios from \"axios\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport VideoModal from \"../components/VideoModal.vue\";\r\nimport { useAuth } from '../stores/auth';\r\n\r\nexport default {\r\n    data: () => ({\r\n        loading: true,\r\n        data: [],\r\n        error: false,\r\n        playCircle,\r\n        arrowForward,\r\n        refresh,\r\n    }),\r\n    components: {\r\n        IonPage,\r\n        IonContent,\r\n        IonHeader,\r\n        IonToolbar,\r\n        IonTitle,\r\n        IonButtons,\r\n        IonBackButton,\r\n        IonLabel,\r\n        IonItem,\r\n        IonAvatar,\r\n        IonImg,\r\n        IonSpinner,\r\n        IonCard,\r\n        IonButton,\r\n        IonText,\r\n        IonFabButton,\r\n        IonIcon,\r\n    },\r\n    mounted() {\r\n        this.getData();\r\n    },\r\n    methods: {\r\n        async useQR() {\r\n            const alert = await alertController.create({\r\n                header: \"QR\",\r\n                message: 'اعمل اسكان للكيو ار بتليفونك و دخل الكود اللي طلع هنا',\r\n                inputs: [\r\n                    {\r\n                        name: 'code',\r\n                        placeholder: 'كود الكيو ار',\r\n                        type: 'text',\r\n                    },\r\n                ],\r\n                buttons: [\r\n                    { text: \"الغاء\", role: \"cancel\", cssClass: 'secondary', },\r\n                    {\r\n                        text: \"تأكيد\",\r\n                        handler: async (data) => {\r\n                            const loading = await loadingController\r\n                                .create({\r\n                                    message: 'استنى نفعل الكود',\r\n                                });\r\n                            await loading.present();\r\n                            const uninterceptedAxios = axios.create({\r\n                                headers: {\r\n                                    \"Authentication\": \"Bearer \" + useAuth().token,\r\n                                },\r\n                            });\r\n                            uninterceptedAxios\r\n                                .get(\r\n                                    \"https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/courseCode?courseId=\" +\r\n                                    this.$route.query.id +\r\n                                    \"&code=\" + data.code,\r\n                                    { crossdomain: true }\r\n                                )\r\n                                .then((res) => {\r\n                                    if (res.data.code == 200) this.getData();\r\n                                    else alertController.create({ header: \"مشكلة !\", message: 'الكود مش صح', buttons: [\"تمام\"], mode: 'ios', }).then(alert => alert.present());\r\n                                    loading.dismiss()\r\n                                })\r\n                                .catch((err) => {\r\n                                    console.error(err);\r\n                                    alertController.create({ header: \"مشكلة !\", message: 'الكود مش صح', buttons: [\"تمام\"], mode: 'ios', }).then(alert => alert.present());\r\n                                    loading.dismiss()\r\n                                });\r\n                        },\r\n                    }\r\n                ],\r\n                mode: \"ios\",\r\n            });\r\n            await alert.present();\r\n\r\n            const { role } = await alert.onDidDismiss();\r\n            console.log(\"onDidDismiss resolved with role\", role);\r\n        },\r\n        async presentActionSheet(options) {\r\n            const actionSheet = await actionSheetController.create({\r\n                subHeader: \"اختار طريقة المشاهدة\",\r\n                header: options.title,\r\n                buttons: [\r\n                    {\r\n                        text: \"هنا جوا الأبلكيشن\",\r\n                        icon: laptopOutline,\r\n                        handler: () => {\r\n                            this.openVideo(options);\r\n                        },\r\n                    },\r\n                    {\r\n                        text: \"على أبلكيشن يوتيوب\",\r\n                        icon: logoYoutube,\r\n                        handler: () => {\r\n                            window.open(\"https://youtu.be/\" + options.videoID, \"_system\");\r\n                        },\r\n                    },\r\n                ],\r\n            });\r\n            await actionSheet.present();\r\n        },\r\n        getVideoID(url) {\r\n            const decrypted = CryptoJS.AES.decrypt(\r\n                url,\r\n                CryptoJS.enc.Utf8.parse(\"aplusencurlsaify\"),\r\n                {\r\n                    mode: CryptoJS.mode.CBC,\r\n                    iv: CryptoJS.enc.Utf8.parse(\"apluscode.comivs\"),\r\n                    padding: CryptoJS.pad.Pkcs7,\r\n                }\r\n            ).toString(CryptoJS.enc.Utf8);\r\n\r\n            return decrypted.substring(decrypted.lastIndexOf(\"/\") + 1);\r\n        },\r\n        async openVideo(options) {\r\n            const modal = await modalController.create({\r\n                component: VideoModal,\r\n                componentProps: options,\r\n                cssClass: \"video-modal\",\r\n                backdropDismiss: false,\r\n                showBackdrop: true,\r\n            });\r\n            return modal.present();\r\n        },\r\n        segmentChanged(ev) {\r\n            this.segment = ev.detail.value;\r\n        },\r\n        getData() {\r\n            this.error = false;\r\n            this.loading = true;\r\n            axios\r\n                .get(\r\n                    \"https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/getCourseFiles?cId=\" +\r\n                    this.$route.query.id +\r\n                    \"&package=0&type=0&sub=0\",\r\n                    { crossdomain: true }\r\n                )\r\n                .then((res) => {\r\n                    if (res.data.code == 200) this.data = res.data.data;\r\n                    else this.error = true;\r\n                    this.loading = false;\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    this.error = true;\r\n                    this.loading = false;\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.courses-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n}\r\n.wrapper,\r\n.error-wrapper {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-align: center;\r\n}\r\n.course {\r\n    --background: transparent;\r\n}\r\nion-card {\r\n    box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,\r\n        rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;\r\n    border-radius: 8px;\r\n}\r\n</style>","import { render } from \"./LecturePage.vue?vue&type=template&id=00bdc0b3&scoped=true\"\nimport script from \"./LecturePage.vue?vue&type=script&lang=js\"\nexport * from \"./LecturePage.vue?vue&type=script&lang=js\"\n\nimport \"./LecturePage.vue?vue&type=style&index=0&id=00bdc0b3&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Development\\\\Projects\\\\Applications\\\\Elsaify-v1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00bdc0b3\"]])\n\nexport default __exports__"],"names":["class","slot","icon","arrowForward","$route","query","title","name","mode","loading","color","error","size","style","getData","refresh","useQR","data","video","key","id","button","detail","lines","playCircle","src","img","components","IonPage","IonContent","IonHeader","IonToolbar","IonTitle","IonButtons","IonBackButton","IonLabel","IonItem","IonAvatar","IonImg","IonSpinner","IonCard","IonButton","IonText","IonFabButton","IonIcon","mounted","this","methods","async","alert","header","message","inputs","placeholder","type","buttons","text","role","cssClass","handler","present","uninterceptedAxios","headers","token","get","code","crossdomain","then","res","dismiss","catch","err","console","onDidDismiss","log","options","actionSheet","subHeader","openVideo","window","open","videoID","getVideoID","url","decrypted","iv","padding","toString","substring","lastIndexOf","modal","component","VideoModal","componentProps","backdropDismiss","showBackdrop","segmentChanged","ev","segment","value","__exports__","render"],"sourceRoot":""}