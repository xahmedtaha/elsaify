{"version":3,"file":"js/653.baa3d7ef.js","mappings":"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","sources":["webpack://elsaify/./src/views/CoursePage.vue","webpack://elsaify/./src/views/CoursePage.vue?1991"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <ion-header>\r\n      <ion-toolbar>\r\n        <ion-buttons slot=\"start\">\r\n          <ion-back-button :icon=\"arrowForward\" default-href=\"/\"></ion-back-button>\r\n        </ion-buttons>\r\n        <ion-title>{{ this.$route.query.title }}</ion-title>\r\n      </ion-toolbar>\r\n      <ion-toolbar>\r\n        <ion-segment :value=\"segment\" @ionChange=\"segmentChanged($event)\">\r\n          <ion-segment-button value=\"lessons\">\r\n            <ion-label>الواجبات</ion-label>\r\n          </ion-segment-button>\r\n          <ion-segment-button value=\"exams\">\r\n            <ion-label>الامتحانات</ion-label>\r\n          </ion-segment-button>\r\n        </ion-segment>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content>\r\n      <main>\r\n        <transition name=\"fade\" mode=\"out-in\">\r\n          <div class=\"wrapper\" v-if=\"loading\">\r\n            <ion-spinner color=\"primary\" name=\"crescent\"></ion-spinner>\r\n          </div>\r\n          <div v-else-if=\"!error\" class=\"courses-wrapper\">\r\n            <transition name=\"fade\" mode=\"out-in\">\r\n              <div v-if=\"segment == 'exams'\">\r\n                <ion-accordion-group expand=\"inset\">\r\n                  <ion-accordion v-for=\"(section, index) in getVideoSections(exams)\" :key=\"index\">\r\n                    <ion-item lines=\"none\" slot=\"header\">\r\n                      <ion-label>{{ section.title }}</ion-label>\r\n                      <ion-badge mode=\"ios\" color=\"light\" slot=\"end\">\r\n                        {{\r\n                          section.data.length\r\n                        }}\r\n                      </ion-badge>\r\n                    </ion-item>\r\n\r\n                    <ion-list slot=\"content\">\r\n                      <ion-item\r\n                        @click=\"\r\n                          presentActionSheet({\r\n                            title: video.title,\r\n                            videoID: getVideoID(video.url),\r\n                          })\r\n                        \"\r\n                        v-for=\"video in section.data\"\r\n                        :key=\"video.id\"\r\n                        button\r\n                        detail\r\n                        lines=\"none\"\r\n                        :detail-icon=\"playCircle\"\r\n                        class=\"course\"\r\n                      >\r\n                        <ion-avatar slot=\"start\">\r\n                          <ion-img\r\n                            :src=\"\r\n                              'https://elsaify.elameed.education/elsefy/' +\r\n                              video.img\r\n                            \"\r\n                          />\r\n                        </ion-avatar>\r\n                        <ion-label>{{ video.title }}</ion-label>\r\n                      </ion-item>\r\n                    </ion-list>\r\n                  </ion-accordion>\r\n                </ion-accordion-group>\r\n              </div>\r\n              <div v-else-if=\"segment == 'lessons'\">\r\n                <ion-accordion-group expand=\"inset\">\r\n                  <ion-accordion\r\n                    v-for=\"(section, index) in getVideoSections(homeworks)\"\r\n                    :key=\"index\"\r\n                  >\r\n                    <ion-item lines=\"none\" slot=\"header\">\r\n                      <ion-label>{{ section.title }}</ion-label>\r\n                      <ion-badge mode=\"ios\" color=\"light\" slot=\"end\">\r\n                        {{\r\n                          section.data.length\r\n                        }}\r\n                      </ion-badge>\r\n                    </ion-item>\r\n\r\n                    <ion-list slot=\"content\">\r\n                      <ion-item\r\n                        @click=\"\r\n                          presentActionSheet({\r\n                            title: video.title,\r\n                            videoID: getVideoID(video.url),\r\n                          })\r\n                        \"\r\n                        v-for=\"video in section.data\"\r\n                        :key=\"video.id\"\r\n                        button\r\n                        detail\r\n                        lines=\"none\"\r\n                        :detail-icon=\"playCircle\"\r\n                        class=\"course\"\r\n                      >\r\n                        <ion-avatar slot=\"start\">\r\n                          <ion-img\r\n                            :src=\"\r\n                              'https://elsaify.elameed.education/elsefy/' +\r\n                              video.img\r\n                            \"\r\n                          />\r\n                        </ion-avatar>\r\n                        <ion-label>{{ video.title }}</ion-label>\r\n                      </ion-item>\r\n                    </ion-list>\r\n                  </ion-accordion>\r\n                </ion-accordion-group>\r\n              </div>\r\n            </transition>\r\n          </div>\r\n          <div class=\"error-wrapper\" v-else>\r\n            <ion-fab-button\r\n              color=\"danger\"\r\n              size=\"small\"\r\n              style=\"margin-top: 20px; --box-shadow: none\"\r\n              @click=\"getData\"\r\n            >\r\n              <ion-icon :icon=\"refresh\" />\r\n            </ion-fab-button>\r\n            <ion-text color=\"danger\">ممكن تكون فاصل نت أو موقع الصيفي مش متاح</ion-text>\r\n            <ion-text color=\"primary\">(اتأكد انك مشترك في الباب)</ion-text>\r\n\r\n            <ion-button @click=\"useQR\" style=\"margin-top: 15px\" size=\"small\">استعمل ال QR</ion-button>\r\n          </div>\r\n        </transition>\r\n      </main>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  modalController,\r\n  actionSheetController,\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonButtons,\r\n  IonBackButton,\r\n  IonSegment,\r\n  IonSegmentButton,\r\n  IonText,\r\n  IonLabel,\r\n  IonItem,\r\n  IonAvatar,\r\n  IonImg,\r\n  IonButton,\r\n  IonSpinner,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n  IonList,\r\n  IonBadge,\r\n  IonFabButton,\r\n  IonIcon,\r\n  alertController,\r\n  loadingController,\r\n} from \"@ionic/vue\";\r\nimport {\r\n  playCircle,\r\n  arrowForward,\r\n  laptopOutline,\r\n  logoYoutube,\r\n  refresh,\r\n} from \"ionicons/icons\";\r\nimport axios from \"axios\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport VideoModal from \"../components/VideoModal.vue\";\r\nimport { useAuth } from '../stores/auth';\r\n\r\nexport default {\r\n  data: () => ({\r\n    loading: true,\r\n    data: [],\r\n    error: false,\r\n    playCircle,\r\n    arrowForward,\r\n    refresh,\r\n    segment: \"lessons\",\r\n    sortWords: [\r\n      \"الاول\",\r\n      \"الأول\",\r\n      \"الأولى\",\r\n      \"الثاني\",\r\n      \"الثانى\",\r\n      \"التاني\",\r\n      \"التانى\",\r\n      \"الثانية\",\r\n      \"الثالث\",\r\n      \"التالت\",\r\n      \"الثالثة\",\r\n      \"الرابع\",\r\n      \"الرابعة\",\r\n      \"الخامس\",\r\n      \"الخامسة\",\r\n      \"السادس\",\r\n      \"السادسة\",\r\n      \"السابع\",\r\n      \"السابعة\",\r\n      \"الثامن\",\r\n      \"الثامنة\",\r\n      \"التاسع\",\r\n      \"التاسعة\",\r\n      \"العاشر\",\r\n      \"العاشرة\",\r\n      \"الحادي عشر\",\r\n      \"الحادية عشر\",\r\n      \"الثاني عشر\",\r\n      \"الثانية عشر\",\r\n      \"الثالث عشر\",\r\n      \"الثالثة عشر\",\r\n      \"شاملة\",\r\n    ],\r\n  }),\r\n  components: {\r\n    IonPage,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonButtons,\r\n    IonBackButton,\r\n    IonSegment,\r\n    IonSegmentButton,\r\n    IonText,\r\n    IonLabel,\r\n    IonItem,\r\n    IonAvatar,\r\n    IonImg,\r\n    IonButton,\r\n    IonSpinner,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonList,\r\n    IonBadge,\r\n    IonFabButton,\r\n    IonIcon,\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    async useQR() {\r\n      const alert = await alertController.create({\r\n        header: \"QR\",\r\n        message: 'اعمل اسكان للكيو ار بتليفونك و دخل الكود اللي طلع هنا',\r\n        inputs: [\r\n          {\r\n            name: 'code',\r\n            placeholder: 'كود الكيو ار',\r\n            type: 'text',\r\n          },\r\n        ],\r\n        buttons: [\r\n          { text: \"الغاء\", role: \"cancel\", cssClass: 'secondary', },\r\n          {\r\n            text: \"تأكيد\",\r\n            handler: async (data) => {\r\n              const loading = await loadingController\r\n                .create({\r\n                  message: 'استنى نفعل الكود',\r\n                });\r\n              await loading.present();\r\n              const uninterceptedAxios = axios.create({\r\n                headers: {\r\n                  \"Authentication\": \"Bearer \" + useAuth().token,\r\n                },\r\n              });\r\n              uninterceptedAxios\r\n                .get(\r\n                  \"https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/courseCode?courseId=\" +\r\n                  this.$route.query.id +\r\n                  \"&code=\" + data.code,\r\n                  { crossdomain: true }\r\n                )\r\n                .then((res) => {\r\n                  if (res.data.code == 200) this.getData();\r\n                  else alertController.create({ header: \"مشكلة !\", message: 'الكود مش مظبوط', buttons: [\"تمام\"], mode: 'ios', }).then(alert => {\r\n                    alert.present();\r\n                    alert.onDidDismiss().then(() => {\r\n                      this.useQR();\r\n                    })\r\n                  });\r\n                  loading.dismiss()\r\n                })\r\n                .catch((err) => {\r\n                  console.error(err);\r\n                  alertController.create({ header: \"مشكلة !\", message: 'الكود مش مظبوط', buttons: [\"تمام\"], mode: 'ios', }).then(alert => {\r\n                    alert.present();\r\n                    alert.onDidDismiss().then(() => {\r\n                      this.useQR();\r\n                    })\r\n                  });\r\n                  loading.dismiss()\r\n                });\r\n            },\r\n          }\r\n        ],\r\n        mode: \"ios\",\r\n      });\r\n      await alert.present();\r\n\r\n      const { role } = await alert.onDidDismiss();\r\n      console.log(\"onDidDismiss resolved with role\", role);\r\n    },\r\n    getVideoSections(videos) {\r\n      let filtered = videos;\r\n      let sections = [];\r\n      this.sortWords.forEach((word, index) => {\r\n        const matches = filtered.filter(\r\n          (a) =>\r\n            this.sortWords.findIndex(\r\n              (searchWord) =>\r\n                searchWord ===\r\n                a.title.split(\" \").find((b) => this.sortWords.includes(b))\r\n            ) === index\r\n        );\r\n        if (matches.length) {\r\n          sections.push({\r\n            title: word,\r\n            data: matches,\r\n          });\r\n          filtered = filtered.filter(\r\n            (a) =>\r\n              this.sortWords.findIndex(\r\n                (searchWord) =>\r\n                  searchWord ===\r\n                  a.title.split(\" \").find((b) => this.sortWords.includes(b))\r\n              ) !== index\r\n          );\r\n        }\r\n      });\r\n      if (filtered.length) {\r\n        sections.push({\r\n          title: \"أخرى\",\r\n          data: filtered,\r\n        });\r\n      }\r\n      return sections;\r\n    },\r\n    sortVideos(a, b) {\r\n      return (\r\n        this.sortWords.findIndex((v) => a.title.includes(v)) -\r\n        this.sortWords.findIndex((v) => b.title.includes(v))\r\n      );\r\n    },\r\n    async presentActionSheet(options) {\r\n      const actionSheet = await actionSheetController.create({\r\n        subHeader: \"اختار طريقة المشاهدة\",\r\n        header: options.title,\r\n        buttons: [\r\n          {\r\n            text: \"هنا جوا الأبلكيشن\",\r\n            icon: laptopOutline,\r\n            handler: () => {\r\n              this.openVideo(options);\r\n            },\r\n          },\r\n          {\r\n            text: \"على أبلكيشن يوتيوب\",\r\n            icon: logoYoutube,\r\n            handler: () => {\r\n              window.open(\"https://youtu.be/\" + options.videoID, \"_system\");\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      await actionSheet.present();\r\n    },\r\n    getVideoID(url) {\r\n      const decrypted = CryptoJS.AES.decrypt(\r\n        url,\r\n        CryptoJS.enc.Utf8.parse(\"aplusencurlsaify\"),\r\n        {\r\n          mode: CryptoJS.mode.CBC,\r\n          iv: CryptoJS.enc.Utf8.parse(\"apluscode.comivs\"),\r\n          padding: CryptoJS.pad.Pkcs7,\r\n        }\r\n      ).toString(CryptoJS.enc.Utf8);\r\n\r\n      return decrypted.substring(decrypted.lastIndexOf(\"/\") + 1);\r\n    },\r\n    async openVideo(options) {\r\n      const modal = await modalController.create({\r\n        component: VideoModal,\r\n        componentProps: options,\r\n        cssClass: \"video-modal\",\r\n        backdropDismiss: false,\r\n        showBackdrop: true,\r\n      });\r\n      return modal.present();\r\n    },\r\n    segmentChanged(ev) {\r\n      this.segment = ev.detail.value;\r\n    },\r\n    getData() {\r\n      this.error = false;\r\n      this.loading = true;\r\n      axios\r\n        .get(\r\n          \"https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/getCourseFiles?cId=\" +\r\n          this.$route.query.id +\r\n          \"&package=0&type=0&sub=0\",\r\n          { crossdomain: true }\r\n        )\r\n        .then((res) => {\r\n          if (res.data.code == 200) this.data = res.data.data;\r\n          else this.error = true;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.error = true;\r\n          this.loading = false;\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    homeworks() {\r\n      return this.data.filter(\r\n        (a) =>\r\n          ![\r\n            \"امتحان\",\r\n            \"الامتحان\",\r\n            \"أمتحان\",\r\n            \"الأمتحان\",\r\n            \"اختبار\",\r\n            \"الاختبار\",\r\n          ].some((b) => a.title.includes(b))\r\n      );\r\n    },\r\n    exams() {\r\n      return this.data.filter((a) =>\r\n        [\"امتحان\", \"الامتحان\", \"أمتحان\", \"الأمتحان\", \"اختبار\", \"الاختبار\"].some(\r\n          (b) => a.title.includes(b)\r\n        )\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.courses-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n.wrapper,\r\n.error-wrapper {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n.course {\r\n  --background: transparent;\r\n}\r\nion-accordion {\r\n  box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,\r\n    rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n}\r\n</style>","import { render } from \"./CoursePage.vue?vue&type=template&id=12a85f3c&scoped=true\"\nimport script from \"./CoursePage.vue?vue&type=script&lang=js\"\nexport * from \"./CoursePage.vue?vue&type=script&lang=js\"\n\nimport \"./CoursePage.vue?vue&type=style&index=0&id=12a85f3c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Development\\\\Projects\\\\Applications\\\\Elsaify-v1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12a85f3c\"]])\n\nexport default __exports__"],"names":["class","slot","icon","arrowForward","$route","query","title","value","segment","segmentChanged","$event","name","mode","loading","color","error","size","style","getData","refresh","useQR","expand","getVideoSections","exams","section","index","key","lines","data","length","video","id","button","detail","playCircle","src","homeworks","sortWords","components","IonPage","IonContent","IonHeader","IonToolbar","IonTitle","IonButtons","IonBackButton","IonSegment","IonSegmentButton","IonText","IonLabel","IonItem","IonAvatar","IonImg","IonButton","IonSpinner","IonAccordion","IonAccordionGroup","IonList","IonBadge","IonFabButton","IonIcon","mounted","this","methods","async","alert","header","message","inputs","placeholder","type","buttons","text","role","cssClass","handler","present","uninterceptedAxios","headers","token","get","code","crossdomain","then","res","onDidDismiss","dismiss","catch","err","console","log","videos","filtered","sections","forEach","word","matches","filter","a","findIndex","searchWord","split","find","b","includes","push","sortVideos","v","options","actionSheet","subHeader","openVideo","window","open","videoID","getVideoID","url","decrypted","iv","padding","toString","substring","lastIndexOf","modal","component","VideoModal","componentProps","backdropDismiss","showBackdrop","ev","computed","some","__exports__","render"],"sourceRoot":""}