"use strict";(self["webpackChunkelsaify"]=self["webpackChunkelsaify"]||[]).push([[49],{2124:function(e,s,t){t.r(s),t.d(s,{default:function(){return B}});var a=t(6252),o=t(9963);const i={key:0,class:"wrapper"},r={key:1,class:"courses-wrapper"},n={key:0,class:"error-wrapper"},l=(0,a.Uk)("ممكن تكون فاصل نت أو موقع الصيفي مش متاح"),d=(0,a.Uk)("حاول تاني"),c={key:1};function u(e,s,t,u,p,m){const h=(0,a.up)("lottie"),k=(0,a.up)("ion-spinner"),x=(0,a.up)("ion-text"),y=(0,a.up)("ion-button"),f=(0,a.up)("course-tile"),g=(0,a.up)("ion-content"),w=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a._)("main",null,[(0,a._)("div",null,[(0,a._)("div",null,[(0,a.Wm)(h,{options:e.animationOptions,height:180},null,8,["options"])]),(0,a.Wm)(o.uT,{name:"fade",mode:"out-in"},{default:(0,a.w5)((()=>[e.loading?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(k,{color:"primary",name:"crescent"})])):e.error?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(o.uT,{name:"fade",mode:"out-in"},{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(x,{color:"danger"},{default:(0,a.w5)((()=>[l])),_:1}),(0,a.Wm)(y,{size:"small",style:{"margin-top":"15px","--box-shadow":"none"},onClick:m.getCourses},{default:(0,a.w5)((()=>[d])),_:1},8,["onClick"])])):((0,a.wg)(),(0,a.iD)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.homeworks.sort(m.sortCourses),(e=>((0,a.wg)(),(0,a.j4)(f,{dense:"",class:"course",course:e,key:e.id},null,8,["course"])))),128))]))])),_:1})]))])),_:1})])])])),_:1})])),_:1})}var p=t(5014),m=JSON.parse('{"v":"5.7.3","fr":29.9700012207031,"ip":0,"op":40.0000016292334,"w":400,"h":400,"nm":"play button","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"Layer 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[200,200,0],"ix":2},"a":{"a":0,"k":[200,200,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[3.333,-1.925],[0,0],[0,3.849],[0,0],[-3.333,-1.924]],"o":[[3.333,1.925],[0,0],[-3.333,1.925],[0,0],[0,-3.85],[0,0]],"v":[[32.087,-4.331],[32.087,4.331],[-27.92,38.974],[-35.419,34.644],[-35.419,-34.644],[-27.92,-38.975]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[210.417,200.001],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60.0000024438501,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Layer 3 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":184,"ix":10},"p":{"a":0,"k":[200,200.001,0],"ix":2},"a":{"a":0,"k":[200,200.001,0],"ix":1},"s":{"a":0,"k":[90,90,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-62.601,0],[0,-62.602],[62.601,0],[0,62.6]],"o":[[62.601,0],[0,62.6],[-62.601,0],[0,-62.602]],"v":[[-0.001,-113.35],[113.349,0.001],[-0.001,113.35],[-113.35,0.001]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[200,200.001],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.1803921568627451,0.7215686274509804,0.7725490196078432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false}],"ip":0,"op":60.0000024438501,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Layer 3 Outlines 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":18,"s":[50]},{"t":40.0000016292334,"s":[0]}],"ix":11},"r":{"a":0,"k":184,"ix":10},"p":{"a":0,"k":[200,200.001,0],"ix":2},"a":{"a":0,"k":[200,200.001,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.179,0.179,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[0,0,100]},{"t":40.0000016292334,"s":[135.33,135.33,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-62.601,0],[0,-62.602],[62.601,0],[0,62.6]],"o":[[62.601,0],[0,62.6],[-62.601,0],[0,-62.602]],"v":[[-0.001,-113.35],[113.349,0.001],[-0.001,113.35],[-113.35,0.001]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[200,200.001],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.1803921568627451,0.7215686274509804,0.7725490196078432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false}],"ip":0,"op":60.0000024438501,"st":0,"bm":0}],"markers":[]}'),h=t.t(m,2),k=t(9490),x=t(8903),y=t(9669),f=t.n(y),g=t(2319),w=t(9865);const b=t(276);var D={mounted(){this.getCourses()},data:()=>({loading:!0,homeworks:[],lectures:[],homeworksError:!1,lecturesError:!1,error:!1,sortWords:["الاول","الأول","الثاني","الثانى","الثالث","الرابع","الخامس"],lockClosed:x.Ml6,chevronBack:x.Mny,segment:"lectures",animationOptions:{animationData:h}}),methods:{groupBy:b,segmentChanged(e){e.preventDefault(),this.segment=e.detail.value},sortCourses(e,s){return this.sortWords.findIndex((s=>e.text.includes(s)))-this.sortWords.findIndex((e=>s.text.includes(e)))},isLectureAvailable(e){return e.countC>0||"0.00"==e.money},async showPurchaseActions(e){const s=await k.BO.create({subHeader:"اختار طريقة التفعيل",header:"تفعيل: "+e.title,buttons:[{text:"رصيد المحفظة",icon:x.gUi,handler:()=>{this.useWallet(e)}},{text:"الكيو ار",icon:x.Vf3,handler:()=>{this.useQR(e)}}]});await s.present()},async useWallet(e){const s=await k.G0.create({message:"استنى نفعل من المحفظة"});await s.present();const t=f().create({headers:{Authentication:"Bearer "+(0,w.a)().token}});t.get("https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/courseWallet?courseId="+e.id,{crossdomain:!0}).then((t=>{200==t.data.code?this.goToLecture(e):k.Cl.create({header:"مشكلة !",message:"رصيد محفظتك مش كفاية",buttons:["تمام"],mode:"ios"}).then((e=>{e.present()})),s.dismiss()})).catch((e=>{console.error(e),k.Cl.create({header:"مشكلة !",message:"رصيد محفظتك مش كفاية",buttons:["تمام"],mode:"ios"}).then((e=>{e.present()})),s.dismiss()}))},async useQR(e){const s=await k.Cl.create({header:e.title,message:"اعمل اسكان للكيو ار بتليفونك و دخل الكود اللي طلع هنا",inputs:[{name:"code",placeholder:"كود الكيو ار",type:"text"}],buttons:[{text:"الغاء",role:"cancel",cssClass:"secondary"},{text:"تأكيد",handler:async s=>{const t=await k.G0.create({message:"استنى نفعل الكود"});await t.present();const a=f().create({headers:{Authentication:"Bearer "+(0,w.a)().token}});a.get("https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/courseCode?courseId="+e.id+"&code="+s.code,{crossdomain:!0}).then((s=>{200==s.data.code?this.goToLecture(e):k.Cl.create({header:"مشكلة !",message:"الكود مش مظبوط",buttons:["تمام"],mode:"ios"}).then((s=>{s.present(),s.onDidDismiss().then((()=>{this.useQR(e)}))})),t.dismiss()})).catch((s=>{console.error(s),k.Cl.create({header:"مشكلة !",message:"الكود مش مظبوط",buttons:["تمام"],mode:"ios"}).then((s=>{s.present(),s.onDidDismiss().then((()=>{this.useQR(e)}))})),t.dismiss()}))}}],mode:"ios"});await s.present();const{role:t}=await s.onDidDismiss();console.log("onDidDismiss resolved with role",t)},getCourses(){this.error=!1,this.loading=!0,Promise.all([f().get("https://elsaify-proxy.ignitionsoftware.workers.dev/?https://elsaify.elameed.education/elsefy/api/desktop/getSubCourses?package=0&sub=0&type=5",{crossdomain:!0})]).then((e=>{console.log(e),200==e[0].data.code?this.homeworks=e[0].data.data:this.homeworksError=!0,this.loading=!1})).catch((e=>{console.error(e),this.error=!0,this.loading=!1}))},goToLecture(e){this.$router.push({path:"/lecture",query:{id:e.id,title:e.title,type:e.type}})}},components:{IonContent:k.W2,IonPage:k._i,CourseTile:g.Z,IonSpinner:k.PQ,IonText:k.yW,IonButton:k.YG,lottie:p.Z}},v=t(3744);const C=(0,v.Z)(D,[["render",u],["__scopeId","data-v-afc8b126"]]);var B=C}}]);
//# sourceMappingURL=49.22de5153.js.map